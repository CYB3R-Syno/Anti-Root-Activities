### [1차시] 과제

- 암호화 파일 시스템
- 디지털 포렌식에서의 암호분석 기술 응용

### 암호화 파일 시스템

### [EFS(Encrypting File System)]

암호화 파일 시스템은 EFS(Encrypting File System)이라고도 부르며 Microsoft Windows의 NTFS 3.0버전에서 추가된 파일 시스템 단계 암호화를 하는 기능이다.

EFS → Windows 2000부터 현재까지 사업용으로 개발된 모든 버전의 윈도우에서 사용 가능

기본적으로 모든 파일이 암호화가 되어있지는 않고 사용자에 의해서 파일, 드라이브 단위로 암호화될 수 있다.

다만 다른 운영 체제의 파일 암호화 시스템 구현은 가능하지만, Microsoft EFS는 다른 것들과 호환되지 않는다.

---

### [동작]

EFS는 파일을 FEK라고 부르는 임의의 대칭 키로 암호화한다.

- FEK 란 ?
    - File Encryption Key
- 파일을 암호화 하는데 대칭 키 암호화 방식을 사용하는 이유는 ?

 →  비대칭 암호 방식보다 암호화, 복호화가 빠르기 때문이다.

### 파일 암호화 과정

파일을 FEK로 암호화한다.

이 FEK를 파일을 암호화한 사용자가 가진 공개 키로 암호화해 암호의 $EFS ADS에 저장한다.

- ADS 란 ?
    - Alternate Data Stream (대체 데이터 스트림)

### 파일 복호화 과정

EFS 컴포넌트 드라이버가 EFS 인증서에 맞는 개인 키로 $EFS 스트림에 저장된 암호환된 FEK를 복호화한다.

이 후 암호화가 풀려있는 FEK 대칭 키를 통하여 파일을 복호화한다.
